(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{132:function(e,t,n){},133:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(54),s=n.n(r),c=(n(63),n(2)),i=n(3),u=n(5),l=n(4),p=n(6),m=(n(64),n(65),function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).state={correct:!1,incorrect:!1},n.answerQuestion=function(){n.props.changeButtonStatus("disabled"),n.props.choice===n.props.correctAnswer?(n.setState({correct:!0}),n.props.updateScore()):n.setState({incorrect:!0}),n.props.stopTimer(),setTimeout(function(){n.props.changeButtonStatus("enabled"),n.setState({correct:!1}),n.setState({incorrect:!1}),n.props.loadQuestion()},2e3)},n}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.correct?"correctAnswer":"none",t=this.state.incorrect?"incorrectAnswer":"none";return o.a.createElement("input",{type:"button",disabled:this.props.buttonDisabled,onClick:this.answerQuestion,value:decodeURIComponent(this.props.choice),className:" btn-answer  ".concat(e," ").concat(t," ")})}}]),t}(a.Component)),h=(n(66),function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).state={buttonDisabled:!1},n.changeButtonStatus=function(e){"disabled"===e?n.setState({buttonDisabled:!0}):n.setState({buttonDisabled:!1})},n}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"question-content"},o.a.createElement("div",{className:"question-header"},o.a.createElement("h4",null,"QUESTION: ",this.props.questionCount," OF 10 ")),o.a.createElement("div",{className:"question-container"},o.a.createElement("h2",null,decodeURIComponent(this.props.question))),o.a.createElement("div",{className:"answer-container"},o.a.createElement(m,{stopTimer:this.props.stopTimer,pointMultiplier:this.props.pointMultiplier,updatePoints:this.props.updatePoints,changeButtonStatus:this.changeButtonStatus,buttonDisabled:this.state.buttonDisabled,choice:this.props.choice1,loadQuestion:this.props.loadQuestion,correctAnswer:this.props.correctAnswer,updateScore:this.props.updateScore}),o.a.createElement(m,{stopTimer:this.props.stopTimer,pointMultiplier:this.props.pointMultiplier,updatePoints:this.props.updatePoints,changeButtonStatus:this.changeButtonStatus,buttonDisabled:this.state.buttonDisabled,choice:this.props.choice2,loadQuestion:this.props.loadQuestion,correctAnswer:this.props.correctAnswer,updateScore:this.props.updateScore}),o.a.createElement(m,{stopTimer:this.props.stopTimer,pointMultiplier:this.props.pointMultiplier,updatePoints:this.props.updatePoints,changeButtonStatus:this.changeButtonStatus,buttonDisabled:this.state.buttonDisabled,choice:this.props.choice3,loadQuestion:this.props.loadQuestion,correctAnswer:this.props.correctAnswer,updateScore:this.props.updateScore}),o.a.createElement(m,{stopTimer:this.props.stopTimer,pointMultiplier:this.props.pointMultiplier,updatePoints:this.props.updatePoints,changeButtonStatus:this.changeButtonStatus,buttonDisabled:this.state.buttonDisabled,choice:this.props.choice4,loadQuestion:this.props.loadQuestion,correctAnswer:this.props.correctAnswer,updateScore:this.props.updateScore})))}}]),t}(a.Component)),d=(n(67),function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).state={countdownTimer:5},n.startGameTimer=function(){n.state.countdownTimer>0?n.setState({countdownTimer:n.state.countdownTimer-1}):0===n.state.countdownTimer&&(clearInterval(n.startingInterval),n.setState({countdownTimer:20}),n.props.gameStart())},n}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.startingInterval=setInterval(function(t){return e.startGameTimer()},1e3)}},{key:"render",value:function(){return o.a.createElement("div",{className:"countdown-content"},o.a.createElement("h2",null,"Game will start in:"),o.a.createElement("h1",null,this.state.countdownTimer))}}]),t}(a.Component)),b=(n(68),function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).state={localRoute:"score",rank:0,name:""},n.onSubmit=function(){""!==n.state.name&&n.updateTable()},n.updateTable=function(){fetch("https://trivia-app-123.herokuapp.com/leaderboard",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:n.state.name,score:n.props.score})}).then(function(e){return e.json()}).then(function(e){n.props.updateLeaderboard(e)}).catch(function(){console.log("something went wrong")})},n.localRouteChange=function(){n.state.rank<9?n.setState({localRoute:"leaderboard"}):n.props.endGame()},n.onNameChange=function(e){n.setState({name:e.target.value.replace(/[^a-zA-Z0-9]/gi,"")})},n.onKeyDown=function(e){"Enter"===e.key&&n.onSubmit()},n}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.setState({localRoute:"score"});for(var e=1,t=0;t<=7;t++)this.props.score<this.props.leaders[t].score&&(e+=1);this.setState({rank:e})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"summary-content"},"score"===this.state.localRoute?o.a.createElement("div",null,o.a.createElement("h2",null,"Your final score is:"),o.a.createElement("h1",null," ",this.props.score),o.a.createElement("input",{type:"button",className:"standard-button points-button",value:"Next",onClick:function(){return e.localRouteChange()}})):o.a.createElement("div",{className:"leaderboard-confirm"},o.a.createElement("h1",null,"You made it on the leaderboard!"),o.a.createElement("h2",null,"Enter your leaderboard name:"),o.a.createElement("input",{type:"text",name:"username",className:"name-entry",value:this.state.name,maxLength:"20",onChange:this.onNameChange,autoFocus:!0,onKeyDown:this.onKeyDown}),o.a.createElement("input",{type:"button",className:"standard-button",onClick:this.onSubmit,value:"Next"})))}}]),t}(a.Component)),f=(n(69),function(e){var t=e.rank,n=e.name,a=e.score;return o.a.createElement("div",{className:"entryStyling"},o.a.createElement("h3",null,t),o.a.createElement("h3",null,n),o.a.createElement("h3",null,a))}),S=function(e){var t=e.leaders;return o.a.createElement("div",null,o.a.createElement(f,{leaders:t}),t.slice(0,8).map(function(e,t){return o.a.createElement(f,{key:t,rank:t+1,name:e.name,score:e.score})}))},v=n(55),E=n.n(v),w=function(e){var t=e.leaders;return o.a.createElement("div",{className:"leaderboardContainer"},o.a.createElement("h3",null,"LEADERBOARD"),t.length>7?o.a.createElement("div",{className:"leaderboardTable"},o.a.createElement(S,{leaders:t})):o.a.createElement("div",{className:"loadingContainer"},o.a.createElement(E.a,{type:"Oval",color:"#31D5FF",height:"50",width:"50"})))},g=(n(93),n(56)),y=(n(131),n(132),function(e){var t=e.percent,n=e.color,a=e.timer;return o.a.createElement("div",{style:{width:"184px",margin:"32px auto",position:"relative",top:"0px",left:"0px"}},o.a.createElement("div",{style:{position:"relative",top:"0px"}},o.a.createElement(g.a,{percent:t,strokeWidth:"4",strokeLinecap:"round",strokeColor:n})),o.a.createElement("div",{className:"timerStyle"},o.a.createElement("h2",null,a)))}),C=function(e){var t=e.score,n=e.timer,a=e.endGame,r=e.color,s=e.percent;return o.a.createElement("div",{className:"side-container-content"},o.a.createElement("div",{className:"point-container"},o.a.createElement("h3",null,"SCORE"),o.a.createElement("h2",null,t)),o.a.createElement("div",{className:"timer-container"},o.a.createElement("h3",null,"TIMER"),o.a.createElement(y,{color:r,percent:s,timer:n})),o.a.createElement("div",{className:"button-container"},o.a.createElement("input",{type:"button",className:"standard-button exit-button",value:"End Game",onClick:a})))},T=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).state={timer:20,choice1:"",choice2:"",choice3:"",choice4:"",score:0,color:"#00E7D0",percent:0,gameStatus:"notStarted",correctAnswer:"",question:"",questionCount:0,leaders:[],questionDb:{category:"",type:"",difficulty:"",question:"",correctAnswer:"",totalCorrectAnswers:"",id:""}},n.handleGameStatusChange=function(e){"countdown"===e&&n.fetchQuestions(),n.setState({gameStatus:e})},n.gameStart=function(){n.setState({questionCount:0}),n.setState({score:0}),n.loadQuestion(),n.handleGameStatusChange("ongoing")},n.restartTimer=function(){n.stopTimer(),n.startTimer()},n.startTimer=function(){n.setState({timer:20}),n.updatePercent(),n.timer=setInterval(function(){return n.countdown()},1e3)},n.countdown=function(){n.state.timer>0?(n.setState({timer:n.state.timer-1}),n.updatePercent()):0===n.state.timer&&(n.loadQuestion(),n.restartTimer())},n.updateScore=function(){n.setState({score:n.state.score+1})},n.updatePercent=function(){n.state.timer<4?n.setState({color:"#FF487D"}):n.state.timer<8?n.setState({color:"#FAEF00"}):n.setState({color:"#00E7D0"});var e=5*n.state.timer;n.setState({percent:e})},n.stopTimer=function(){clearInterval(n.timer)},n.updateLeaderboard=function(e){n.setState({leaders:e}),n.endGame()},n.loadQuestion=function(){n.restartTimer();var e=n.state.questionCount;if(10===n.state.questionCount)return n.stopTimer(),void n.handleGameStatusChange("summary");for(;e<10;)return n.setState({question:n.state.questionDb[e].question}),n.setState({correctAnswer:n.state.questionDb[e].correctAnswer}),n.setState({questionCount:n.state.questionCount+1}),n.setState({choice1:n.state.questionDb[e].allAnswers[0]}),n.setState({choice2:n.state.questionDb[e].allAnswers[1]}),n.setState({choice3:n.state.questionDb[e].allAnswers[2]}),void n.setState({choice4:n.state.questionDb[e].allAnswers[3]})},n.fetchQuestions=function(){fetch("https://opentdb.com/api.php?amount=10&type=multiple&encode=url3986").then(function(e){return e.json()}).then(function(e){n.setState({questionDb:e.results.map(function(e,t){return{category:e.category,question:e.question,correctAnswer:e.correct_answer,allAnswers:e.incorrect_answers.concat(e.correct_answer)}})})}).then(function(){n.setState({questionDb:n.state.questionDb.map(function(e){return e.allAnswers=n.shuffleQuestions(e.allAnswers),e})})}),setTimeout(function(){n.loadQuestion()},5e3)},n.shuffleQuestions=function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),a=e[t];e[t]=e[n],e[n]=a}return e},n.endGame=function(){n.handleGameStatusChange("notStarted"),n.setState({questionCount:0}),n.setState({points:0})},n}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://trivia-app-123.herokuapp.com/leaderboard").then(function(e){return e.json()}).then(function(t){return e.setState({leaders:t})}).catch(function(e){return console.log("Unable to connect to server")})}},{key:"render",value:function(){var e=this,t=this.state,n=t.question,a=t.timer,r=t.color,s=t.percent,c=t.score,i=t.correctAnswer,u=t.choice1,l=t.choice2,p=t.choice3,m=t.choice4,f=t.questionCount,S=t.leaders;return o.a.createElement("div",{className:"grid-container"},o.a.createElement("div",{className:"main-container"},"notStarted"===this.state.gameStatus?o.a.createElement("div",{className:"start-content"},o.a.createElement("h1",null,"Trivia Challenge"),o.a.createElement("h2",null,"Can you make it on the leaderboard?"),o.a.createElement("input",{type:"button",value:"Start",className:"standard-button",onClick:function(){return e.handleGameStatusChange("countdown")}})):"countdown"===this.state.gameStatus?o.a.createElement(d,{gameStart:this.gameStart}):"ongoing"===this.state.gameStatus?o.a.createElement(h,{question:n,choice1:u,choice2:l,choice3:p,choice4:m,questionCount:f,loadQuestion:this.loadQuestion,correctAnswer:i,stopTimer:this.stopTimer,updateScore:this.updateScore}):o.a.createElement("div",{className:"summary-content"},o.a.createElement(b,{endGame:this.endGame,updateLeaderboard:this.updateLeaderboard,score:c,handleGameStatusChange:this.handleGameStatusChange,leaders:S}))),o.a.createElement("div",{className:"side-container"},"ongoing"===this.state.gameStatus?o.a.createElement(C,{endGame:this.endGame,color:r,percent:s,timer:a,score:c}):o.a.createElement(w,{leaders:S})))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},57:function(e,t,n){e.exports=n(133)},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},93:function(e,t,n){}},[[57,1,2]]]);
//# sourceMappingURL=main.b0ed09aa.chunk.js.map